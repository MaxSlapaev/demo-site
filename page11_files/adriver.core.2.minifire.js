function adriver(a,b,c,d){var e=this,f=a;return this instanceof adriver?("string"==typeof f?f=document.getElementById(a):a=f.id,f||d?adriver(a)?adriver(a):(e.p=f,e.defer=c,e.prm=adriver.extend(b,{ph:a}),d||adriver.initQueue.push(function(){e.init()}),e.loadCompleteQueue=new adriver.queue,e.domReadyQueue=new adriver.queue(adriver.isDomReady),adriver.items[a]=e,e):(adriver.isDomReady||adriver.onDomReady(function(){new adriver(a,b,c,d)}),{})):a?adriver.items[a]:adriver.items}adriver.prototype={isLoading:0,init:function(){},load:function(){},reload:function(){},loadComplete:function(){},domReady:function(){},onLoadComplete:function(a){var b=this;return b.loadCompleteQueue.push(function(){a.call(b)}),b},onDomReady:function(a){return this.domReadyQueue.push(a),this},reset:function(){return this.loadCompleteQueue.flush(),this.domReadyQueue.flush(adriver.isDomReady),this}},adriver.extend=function(){for(var d,e,a=arguments[0],b=1,c=arguments.length;b<c;b++){d=arguments[b];for(e in d)d.hasOwnProperty(e)&&(d[e]instanceof Function?a[e]=d[e]:d[e]instanceof Object?a[e]?adriver.extend(a[e],d[e]):a[e]=adriver.extend(d[e]instanceof Array?[]:{},d[e]):a[e]=d[e])}return a},adriver.extend(adriver,{version:"2.3.11",defaults:{tail256:escape(document.referrer||"unknown")},items:{},options:{},plugins:{},pluginPath:{},redirectHost:"//ad.adriver.ru",defaultMirror:"//content.adriver.ru",loadScript:function(a){try{var b=document.getElementsByTagName("head")[0],c=document.createElement("script");c.setAttribute("type","text/javascript"),c.setAttribute("charset","windows-1251"),c.setAttribute("src",a.split("![rnd]").join(Math.round(9999999*Math.random()))),c.onreadystatechange=function(){/loaded|complete/.test(this.readyState)&&(b.removeChild(c),c.onload=null)},c.onload=function(){b.removeChild(c)},b.insertBefore(c,b.firstChild)}catch(a){}},isDomReady:!1,onDomReady:function(a){adriver.domReadyQueue.push(a)},onBeforeDomReady:function(a){adriver.domReadyQueue.unshift(a)},domReady:function(){adriver.isDomReady=!0,adriver.domReadyQueue.execute()},checkDomReady:function(a){var f,b=window,c=b.document,d=function(){adriver.isDomReady||a()},e=!1;if("complete"===c.readyState)d();else if(c.addEventListener)c.addEventListener("DOMContentLoaded",d,!1),b.addEventListener("load",d,!1);else{f=function(){"complete"===c.readyState&&(c.detachEvent("onreadystatechange",f),d())},c.attachEvent("onreadystatechange",f),b.attachEvent("onload",d);try{e=null===b.frameElement&&c.documentElement}catch(a){}e&&e.doScroll&&function a(){if(!adriver.isDomReady){try{e.doScroll("left")}catch(b){return setTimeout(a,50)}d()}}()}},onLoadComplete:function(a){return adriver.loadCompleteQueue.push(a),adriver},checkLoadComplete:function(){var a,b;for(a in adriver.items)if(adriver.items.hasOwnProperty(a)&&(b=adriver.items[a],!b.prm.onScroll&&void 0===b.reply))return!1;return!0},loadComplete:function(){return adriver.checkLoadComplete()&&adriver.loadCompleteQueue.execute(!1),adriver},setDefaults:function(a){adriver.extend(adriver.defaults,a)},setOptions:function(a){adriver.extend(adriver.options,a)},setPluginPath:function(a){adriver.extend(adriver.pluginPath,a)},queue:function(a){this.q=[],this.flag=!!a},Plugin:function(a){return this instanceof adriver.Plugin&&a&&!adriver.plugins[a]&&(this.id=a,this.q=new adriver.queue,adriver.plugins[a]=this),adriver.plugins[a]}}),adriver.sync=function(a,b){if(!adriver.syncFlag){adriver.syncFlag=1;for(var c=[];b--;)c[b]=b+1;c.sort(function(){return.5-Math.random()}),adriver.synchArray=c}return adriver.synchArray[(!a||a<=0?1:a)-1]},adriver.queue.prototype={push:function(a){this.flag?a():this.q.push(a)},unshift:function(a){this.flag?a():this.q.unshift(a)},execute:function(a){for(var b,c;b=this.q.shift();)b();a==c&&(a=!0),this.flag=!!a},flush:function(a){this.q.length=0,this.flag=!!a}},adriver.Plugin.prototype={loadingStatus:0,load:function(){this.loadingStatus=1,adriver.loadScript((adriver.pluginPath[this.id.split(".").pop()]||adriver.defaultMirror+"/plugins/min/")+this.id+".js")},loadComplete:function(){return this.loadingStatus=2,this.q.execute(),this},onLoadComplete:function(a){return this.q.push(a),this}},adriver.Plugin.require=function(){var a=this,b=0;a.q=new adriver.queue;for(var e,c=0,d=arguments.length;c<d;c++)e=new adriver.Plugin(arguments[c]),2!=e.loadingStatus&&(b++,e.onLoadComplete(function(){1==b--&&a.q.execute()}),e.loadingStatus||e.load());b||a.q.execute()},adriver.Plugin.require.prototype.onLoadComplete=function(a){return this.q.push(a),this},adriver.domReadyQueue=new adriver.queue,adriver.loadCompleteQueue=new adriver.queue,adriver.initQueue=new adriver.queue,adriver.checkDomReady(adriver.domReady),new adriver.Plugin.require("autoUpdate.adriver").onLoadComplete(function(){adriver.initQueue.execute()});